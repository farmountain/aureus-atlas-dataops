import type { DomainPack } from './types'

export const amlFccPack: DomainPack = {
  domain: 'AML/FCC',
  description: 'Anti-Money Laundering and Financial Crime Compliance alert triage and investigation',
  datasets: [
    {
      id: 'aml_transaction_alerts',
      name: 'AML Transaction Alerts',
      description: 'Suspicious activity alerts generated by transaction monitoring systems',
      domain: 'AML/FCC',
      owner: 'Financial Crime Compliance Team',
      piiLevel: 'HIGH',
      jurisdiction: 'US',
      freshnessSLA: 'HOURLY',
      sampleRowCount: 25000,
      columns: [
        {
          name: 'alert_id',
          type: 'string',
          description: 'Unique alert identifier',
          nullable: false,
        },
        {
          name: 'alert_date',
          type: 'timestamp',
          description: 'When alert was generated',
          nullable: false,
        },
        {
          name: 'customer_id',
          type: 'string',
          description: 'Customer involved in alert',
          nullable: false,
          pii: true,
        },
        {
          name: 'account_id',
          type: 'string',
          description: 'Account involved in alert',
          nullable: false,
          pii: true,
        },
        {
          name: 'scenario_name',
          type: 'string',
          description: 'Monitoring scenario that triggered alert',
          nullable: false,
        },
        {
          name: 'scenario_code',
          type: 'string',
          description: 'Scenario identifier code',
          nullable: false,
        },
        {
          name: 'alert_type',
          type: 'string',
          description: 'Type of suspicious activity (STRUCTURING, RAPID_MOVEMENT, HIGH_RISK_JURISDICTION, UNUSUAL_PATTERN)',
          nullable: false,
        },
        {
          name: 'risk_score',
          type: 'integer',
          description: 'Risk score (0-100)',
          nullable: false,
        },
        {
          name: 'priority',
          type: 'string',
          description: 'Alert priority (CRITICAL, HIGH, MEDIUM, LOW)',
          nullable: false,
        },
        {
          name: 'alert_amount',
          type: 'decimal',
          description: 'Total amount involved in USD',
          nullable: false,
        },
        {
          name: 'transaction_count',
          type: 'integer',
          description: 'Number of transactions in alert period',
          nullable: false,
        },
        {
          name: 'lookback_days',
          type: 'integer',
          description: 'Number of days analyzed',
          nullable: false,
        },
        {
          name: 'status',
          type: 'string',
          description: 'Current alert status (NEW, ASSIGNED, IN_REVIEW, ESCALATED, CLOSED)',
          nullable: false,
        },
        {
          name: 'disposition',
          type: 'string',
          description: 'Final disposition (TRUE_POSITIVE, FALSE_POSITIVE, SAR_FILED, PENDING)',
          nullable: true,
        },
        {
          name: 'assigned_to',
          type: 'string',
          description: 'Analyst assigned to investigate',
          nullable: true,
        },
        {
          name: 'assigned_date',
          type: 'timestamp',
          description: 'When alert was assigned',
          nullable: true,
        },
        {
          name: 'closure_date',
          type: 'timestamp',
          description: 'When alert was closed',
          nullable: true,
        },
        {
          name: 'sar_filed',
          type: 'boolean',
          description: 'Whether SAR was filed',
          nullable: false,
        },
        {
          name: 'sar_filing_date',
          type: 'date',
          description: 'Date SAR was filed',
          nullable: true,
        },
        {
          name: 'investigation_days',
          type: 'integer',
          description: 'Days taken to investigate',
          nullable: true,
        },
      ],
    },
    {
      id: 'aml_customer_risk_profile',
      name: 'Customer Risk Profiles',
      description: 'Customer risk assessments for AML purposes',
      domain: 'AML/FCC',
      owner: 'Financial Crime Compliance Team',
      piiLevel: 'HIGH',
      jurisdiction: 'US',
      freshnessSLA: 'DAILY',
      sampleRowCount: 100000,
      columns: [
        {
          name: 'customer_id',
          type: 'string',
          description: 'Unique customer identifier',
          nullable: false,
          pii: true,
        },
        {
          name: 'customer_type',
          type: 'string',
          description: 'Type of customer (INDIVIDUAL, BUSINESS, TRUST)',
          nullable: false,
        },
        {
          name: 'onboarding_date',
          type: 'date',
          description: 'When customer relationship began',
          nullable: false,
        },
        {
          name: 'risk_rating',
          type: 'string',
          description: 'Overall AML risk rating (LOW, MEDIUM, HIGH, PROHIBITED)',
          nullable: false,
        },
        {
          name: 'risk_score',
          type: 'integer',
          description: 'Numeric risk score (0-100)',
          nullable: false,
        },
        {
          name: 'pep_flag',
          type: 'boolean',
          description: 'Politically Exposed Person indicator',
          nullable: false,
        },
        {
          name: 'high_risk_jurisdiction',
          type: 'boolean',
          description: 'Customer in/from high-risk jurisdiction',
          nullable: false,
        },
        {
          name: 'sanctioned_country_exposure',
          type: 'boolean',
          description: 'Has transactions with sanctioned countries',
          nullable: false,
        },
        {
          name: 'cash_intensive_business',
          type: 'boolean',
          description: 'Operates cash-intensive business',
          nullable: false,
        },
        {
          name: 'expected_activity_level',
          type: 'string',
          description: 'Expected transaction volume (LOW, MEDIUM, HIGH)',
          nullable: false,
        },
        {
          name: 'kyc_status',
          type: 'string',
          description: 'KYC documentation status (COMPLETE, INCOMPLETE, EXPIRED, REFRESHING)',
          nullable: false,
        },
        {
          name: 'kyc_refresh_date',
          type: 'date',
          description: 'When KYC was last refreshed',
          nullable: false,
        },
        {
          name: 'next_review_date',
          type: 'date',
          description: 'When next periodic review is due',
          nullable: false,
        },
        {
          name: 'enhanced_due_diligence',
          type: 'boolean',
          description: 'Requires EDD procedures',
          nullable: false,
        },
        {
          name: 'alert_count_12m',
          type: 'integer',
          description: 'Number of alerts in past 12 months',
          nullable: false,
        },
        {
          name: 'sar_count_lifetime',
          type: 'integer',
          description: 'Total SARs filed for this customer',
          nullable: false,
        },
      ],
    },
    {
      id: 'aml_sanctions_screening',
      name: 'Sanctions Screening Results',
      description: 'Results from OFAC and other sanctions list screening',
      domain: 'AML/FCC',
      owner: 'Financial Crime Compliance Team',
      piiLevel: 'HIGH',
      jurisdiction: 'GLOBAL',
      freshnessSLA: 'REALTIME',
      sampleRowCount: 50000,
      columns: [
        {
          name: 'screening_id',
          type: 'string',
          description: 'Unique screening event identifier',
          nullable: false,
        },
        {
          name: 'screening_timestamp',
          type: 'timestamp',
          description: 'When screening was performed',
          nullable: false,
        },
        {
          name: 'entity_type',
          type: 'string',
          description: 'Type being screened (CUSTOMER, BENEFICIARY, COUNTERPARTY)',
          nullable: false,
        },
        {
          name: 'entity_id',
          type: 'string',
          description: 'Identifier of entity screened',
          nullable: false,
          pii: true,
        },
        {
          name: 'entity_name',
          type: 'string',
          description: 'Name being screened',
          nullable: false,
          pii: true,
        },
        {
          name: 'screening_list',
          type: 'string',
          description: 'Sanctions list checked (OFAC_SDN, UN, EU, UK_HMT)',
          nullable: false,
        },
        {
          name: 'match_found',
          type: 'boolean',
          description: 'Whether potential match was found',
          nullable: false,
        },
        {
          name: 'match_score',
          type: 'decimal',
          description: 'Name matching score (0-1)',
          nullable: true,
        },
        {
          name: 'match_name',
          type: 'string',
          description: 'Name from sanctions list',
          nullable: true,
        },
        {
          name: 'match_list_id',
          type: 'string',
          description: 'Identifier on sanctions list',
          nullable: true,
        },
        {
          name: 'false_positive',
          type: 'boolean',
          description: 'Match determined to be false positive',
          nullable: true,
        },
        {
          name: 'resolution_status',
          type: 'string',
          description: 'Status (AUTO_CLEARED, MANUAL_REVIEW, BLOCKED)',
          nullable: false,
        },
        {
          name: 'reviewed_by',
          type: 'string',
          description: 'Analyst who reviewed match',
          nullable: true,
        },
        {
          name: 'resolution_date',
          type: 'timestamp',
          description: 'When screening was resolved',
          nullable: true,
        },
      ],
    },
  ],
  glossary: [
    {
      term: 'Suspicious Activity Report (SAR)',
      definition: 'A document that financial institutions must file with FinCEN when they detect transactions that may involve money laundering or fraud',
      domain: 'AML/FCC',
      synonyms: ['STR', 'Suspicious Transaction Report'],
      relatedDatasets: ['aml_transaction_alerts'],
    },
    {
      term: 'Know Your Customer (KYC)',
      definition: 'The process of verifying the identity of customers and assessing their risk profile for money laundering or terrorist financing',
      domain: 'AML/FCC',
      synonyms: ['Customer Due Diligence', 'CDD'],
      relatedDatasets: ['aml_customer_risk_profile'],
    },
    {
      term: 'Enhanced Due Diligence (EDD)',
      definition: 'Additional customer due diligence measures required for high-risk customers, such as PEPs or those in high-risk jurisdictions',
      domain: 'AML/FCC',
      synonyms: ['Heightened Due Diligence'],
      relatedDatasets: ['aml_customer_risk_profile'],
    },
    {
      term: 'Politically Exposed Person (PEP)',
      definition: 'An individual who holds or has held a prominent public position and may be at higher risk for corruption or bribery',
      domain: 'AML/FCC',
      synonyms: ['PEP'],
      relatedDatasets: ['aml_customer_risk_profile'],
    },
    {
      term: 'OFAC',
      definition: 'Office of Foreign Assets Control - US Treasury department that administers and enforces economic sanctions programs',
      domain: 'AML/FCC',
      synonyms: ['Office of Foreign Assets Control'],
      relatedDatasets: ['aml_sanctions_screening'],
    },
    {
      term: 'Specially Designated Nationals (SDN)',
      definition: 'OFAC\'s list of individuals and entities whose assets are blocked and with whom US persons are generally prohibited from dealing',
      domain: 'AML/FCC',
      synonyms: ['SDN List'],
      relatedDatasets: ['aml_sanctions_screening'],
    },
    {
      term: 'Structuring',
      definition: 'The practice of breaking up large transactions into smaller amounts to avoid reporting requirements, also known as "smurfing"',
      domain: 'AML/FCC',
      synonyms: ['Smurfing', 'Breaking'],
      relatedDatasets: ['aml_transaction_alerts'],
    },
    {
      term: 'Transaction Monitoring',
      definition: 'Automated systems that analyze customer transactions to detect patterns indicative of money laundering or other financial crimes',
      domain: 'AML/FCC',
      synonyms: ['TM', 'Monitoring System'],
      relatedDatasets: ['aml_transaction_alerts'],
    },
  ],
  policies: [
    {
      id: 'pol_aml_high_pii',
      name: 'AML High PII Protection',
      description: 'Strict access controls for customer identifiable information in AML systems',
      scope: 'domain',
      conditions: {
        piiLevel: ['HIGH'],
      },
      actions: {
        allow: ['AML_ANALYST', 'AML_MANAGER', 'COMPLIANCE_OFFICER'],
        deny: ['GUEST', 'VIEWER'],
        require_approval: true,
        mask_columns: ['customer_id', 'account_id', 'entity_id', 'entity_name'],
      },
    },
    {
      id: 'pol_aml_sanctions_alert',
      name: 'Sanctions Hit Immediate Escalation',
      description: 'Any sanctions match must be immediately escalated and investigated',
      scope: 'dataset',
      targetDatasets: ['aml_sanctions_screening'],
      conditions: {},
      actions: {
        allow: ['AML_ANALYST', 'AML_MANAGER', 'SANCTIONS_OFFICER'],
        require_approval: true,
      },
    },
    {
      id: 'pol_aml_sar_confidentiality',
      name: 'SAR Confidentiality',
      description: 'SAR filing information must remain strictly confidential per BSA requirements',
      scope: 'dataset',
      targetDatasets: ['aml_transaction_alerts'],
      conditions: {},
      actions: {
        allow: ['AML_MANAGER', 'COMPLIANCE_OFFICER'],
        deny: ['AML_ANALYST'],
      },
    },
  ],
  sampleQuestions: [
    {
      question: 'How many high-priority alerts are currently unassigned?',
      expectedIntent: {
        measures: ['alert_count'],
        dimensions: ['priority', 'status'],
        filters: {
          status: 'NEW',
          priority: 'HIGH,CRITICAL',
        },
      },
      expectedDatasets: ['aml_transaction_alerts'],
      requiresApproval: false,
    },
    {
      question: 'Show me the SAR filing rate by alert type for the past quarter',
      expectedIntent: {
        measures: ['sar_filed_count', 'total_alerts', 'sar_filing_rate'],
        dimensions: ['alert_type'],
        filters: {},
        timeRange: 'LAST_QUARTER',
      },
      expectedDatasets: ['aml_transaction_alerts'],
      requiresApproval: false,
    },
  ],
  metadata: {
    version: '1.0.0',
    created: '2024-01-15',
    author: 'AUREUS Platform Team',
    tags: ['aml', 'fcc', 'compliance', 'sanctions', 'bsa'],
  },
}
