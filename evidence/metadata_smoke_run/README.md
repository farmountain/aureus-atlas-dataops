# Metadata Service Evidence Directory

## Purpose
This directory contains evidence artifacts generated by the metadata service smoke tests. These artifacts demonstrate compliance with acceptance criteria and provide audit trails for all operations.

## Evidence Generation
Evidence is automatically generated when running the smoke test:
```bash
npm test -- metadata-service.smoke.test.ts
```

## Artifacts

### smoke_test_{timestamp}.json
Full test execution data in JSON format including:
- Timestamp and workflow identifier
- Step-by-step operation results
- Policy evaluation results
- Snapshot data
- Summary metrics

### SMOKE_TEST_SUMMARY.md
Human-readable markdown summary including:
- Test run summary and status
- Metrics (datasets created, policies evaluated, etc.)
- Acceptance criteria validation
- Detailed workflow steps
- Conclusion and pass/fail status

## Evidence Validation

The evidence artifacts prove:

1. ✅ **Dataset CRUD**: Datasets created with all required fields (id, name, domain, owner, pii_level, jurisdiction, freshness_sla, schema_ref)

2. ✅ **Glossary CRUD & Linking**: Glossary terms created and successfully linked to datasets

3. ✅ **Classification Rules**: PII level and jurisdiction correctly influence policy decisions

4. ✅ **Policy Decisions by Role**: 
   - Admin role receives `allow` decisions
   - Analyst role receives `require_approval` for high PII and cross-jurisdiction data
   - Viewer role receives most restrictive policies

5. ✅ **Dataset Card Endpoint**: Complete cards retrieved including:
   - Full dataset metadata
   - Linked glossary terms
   - Applicable policies
   - Freshness status calculations

6. ✅ **AUREUS Guard Integration**: All writes produced:
   - Policy check results
   - Audit log entries
   - Snapshots for rollback capability

## Retention
Evidence artifacts are retained indefinitely for audit purposes. In production, implement retention policies per regulatory requirements.

## Access
Evidence artifacts are read-only and should not be modified after generation.
